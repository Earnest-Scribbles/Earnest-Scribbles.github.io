---
import { getImage } from "astro:assets";
import pink from "../../assets/blog/pink.jpg";

const pinkImage = await getImage({ src: pink });

const { title, description, pubDate, imageUrl, imageAlt, slug } = Astro.props;
const formattedDate = new Date(pubDate).toLocaleDateString("en-us", {
  year: "numeric",
  month: "short",
  day: "numeric",
});
---

<div class="bg-white border-2 border-gray-600 p-6 rounded-lg max-w-sm shadow-lg shadow-gray-500/50 transform hover:-rotate-2 hover:scale-105 transition-transform duration-200 ease-in-out bg-cover bg-center bg-no-repeat" style={`background-image: url('${pinkImage.src}');`}>
    <div class="relative">
        <img class="w-full rounded-md mb-4 border-2 border-dashed border-gray-400" src={imageUrl} alt={imageAlt} />
        <div class="absolute -top-0 -left-6 w-16 h-4 bg-yellow-300 -rotate-45"></div>
        <div class="absolute -bottom-0 -right-6 w-16 h-4 bg-yellow-300 -rotate-45"></div>
        <!-- <div class="absolute -bottom-0 -right-6 w-16 h-4 -rotate-45 bg-gradient-to-t from-[hsla(51,11%,62%,.63)] to-[hsla(51,13%,70%,.4)]"></div> -->
    </div>
    
    <div class="absolute top-2 right-4 bg-yellow-200 text-sm font-title text-gray-700 border-2 border-black rounded-md px-2 py-1 transform -rotate-2 shadow-[2px_2px_0_0_rgba(0,0,0,1)] z-20">
        {formattedDate}
    </div>
    
    <div class="relative">
        <h2 class="text-3xl mt-6 text-orange-500 font-bold font-sketch relative z-10 p-2 bg-slate-300 border-2 border-black rounded-lg rounded-br-[20%] rounded-tl-[20%]">
            {title}
        </h2>
    </div>
    <p class="text-gray-700 text-lg font-title border-2 border-black rounded-lg rounded-br-[20%] p-2 mt-2 bg-slate-100">
        {description}
    </p>
    <button class="mt-4 bg-white border-2 border-black px-4 py-2 rounded-full font-bold font-title hover:bg-lime-200 transition-colors">
        <a href={`/blog/${slug}/`}>âœ¨ Read More</a>
    </button>
</div>

